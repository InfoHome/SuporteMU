DROP TABLE TAB_PARAMETROS_TIPO_DOC
CREATE TABLE TAB_PARAMETROS_TIPO_DOC (
   EMPRESA     VARCHAR(50),
   REGIAO     VARCHAR(20),
   NIVEL1     VARCHAR(20),
   NIVEL2     VARCHAR(20),
   NIVEL3     VARCHAR(20),
   NIVEL4     VARCHAR(20),
   NIVEL5     VARCHAR(20),
   NIVEL6     VARCHAR(20),
   NIVEL7     VARCHAR(20),
   NIVEL8     VARCHAR(20),
   NIVEL9     VARCHAR(20),
   NIVEL10     VARCHAR(20),
   NIVEL11     VARCHAR(20),
   NIVEL12     VARCHAR(20),
  NIVEL13     VARCHAR(20),
  NIVEL14     VARCHAR(20),
  NIVEL15     VARCHAR(20),
   ATR1       VARCHAR(20),
   ATR2       VARCHAR(20),
   ATR3       VARCHAR(20),
   ATR4       VARCHAR(20),
   ATR5       VARCHAR(20),
   ATR6       VARCHAR(20),
   ATR7       VARCHAR(20),
   ATR8       VARCHAR(20),
   ATR9       VARCHAR(20),
   ATR10      VARCHAR(20),
   ATR11      VARCHAR(20),
   ATR12      VARCHAR(20),
   ATR13      VARCHAR(20),
   ATR14      VARCHAR(20),
   ATR15      VARCHAR(20),
   ATUALIZADOEM DATETIME )

INSERT INTO TAB_PARAMETROS_TIPO_DOC (EMPRESA,NIVEL1,NIVEL2,NIVEL3,NIVEL4,NIVEL5,NIVEL6,NIVEL7,NIVEL8,ATR1,ATR2,ATR3,ATR4,ATR5,ATR6)
 VALUES ('GERENCIAL POR DOCUMENTO','TEMPO', 'FILIAL','VENDEDOR','COND PAG','DOCUMENTO','CIDADE','CLIENTE','PEDIDO','QTD_ORC','VALOR_ORC','DESC_ORC','QTD_ORC_FAT','VALOR_VENDA','DESC_VENDA')

GO

IF NOT EXISTS (SELECT NAME FROM SYSOBJECTS WHERE NAME = 'TAB_INI' AND TYPE = 'U')
CREATE TABLE TAB_INI(
           VISAO	NVARCHAR(50),
           CAMPO4	VARCHAR(250),	
           CAMPO5	VARCHAR(250),	
           CAMPO6	VARCHAR(250),	
           CAMPO7	VARCHAR(250),	
           CAMPO8	VARCHAR(250), 
           CONSTRAINT PK_TAB_INI PRIMARY KEY NONCLUSTERED (VISAO) WITH FILLFACTOR=98)
GO

DELETE FROM TAB_INI WHERE VISAO = 'GERENCIAL POR DOCUMENTO'
GO

INSERT INTO TAB_INI  VALUES 
('GERENCIAL POR DOCUMENTO', 
 '*NIVEL1_TIPO_DOC,NIVEL2_TIPO_DOC,NIVEL3_TIPO_DOC,NIVEL4_TIPO_DOC,NIVEL5_TIPO_DOC,NIVEL6_TIPO_DOC,NIVEL7_TIPO_DOC,,NIVEL8_TIPO_DOC',
 'TAB_NIVEL1_TIPO_DOC,TAB_NIVEL2_TIPO_DOC,TAB_NIVEL3_TIPO_DOC,TAB_NIVEL4_TIPO_DOC,TAB_NIVEL5_TIPO_DOC,TAB_NIVEL6_TIPO_DOC,TAB_NIVEL7_TIPO_DOC,TAB_NIVEL8_TIPO_DOC' ,
 'TAB_PARAMETROS_TIPO_DOC,TAB_SENHA_TIPO_DOC,,ULTIMAS_TIPO_DOC,,,CONSULTA_TIPO_DOC,FORMULA_TIPO_DOC',
 'NIVEL1,NIVEL2,NIVEL3,NIVEL4,NIVEL5,NIVEL6,NIVEL7,NIVEL8,NIVEL9,NIVEL10,NIVEL11,DATA,DESCRICAO,,,,,,,,,,ATR1,ATR2,ATR3,ATR4,ATR5,ATR6,ATR7,ATR8,ATR9,ATR10,' ,
 '08,02,05,10,25,51,10,02,04,06,05' )

GO

DROP TABLE TAB_NIVEL1_TIPO_DOC                                          --TEMPO
CREATE TABLE TAB_NIVEL1_TIPO_DOC (
	NIVEL1 CHAR (8) NOT NULL ,
	DESCRICAO VARCHAR (100) NULL ,
	MES VARCHAR (50) NULL ,
	BIMESTRE  VARCHAR (50) NULL ,
	TRIMESTRE VARCHAR (50) NULL ,
	QUADRIMESTRE VARCHAR (50) NULL ,
	SEMESTRE VARCHAR (50)  NULL ,
	ANO VARCHAR (50) NULL ,
	DIAUTIL VARCHAR(1) NULL,
        CONSTRAINT PK_TAB_NIVEL1_TIPO_DOC PRIMARY KEY NONCLUSTERED (NIVEL1) WITH FILLFACTOR=98)

CREATE INDEX FK_TAB_NIVEL1_TIPO_DOC_1 ON TAB_NIVEL1_TIPO_DOC (DESCRICAO)
CREATE INDEX FK_TAB_NIVEL1_TIPO_DOC_2 ON TAB_NIVEL1_TIPO_DOC (MES)
CREATE INDEX FK_TAB_NIVEL1_TIPO_DOC_3 ON TAB_NIVEL1_TIPO_DOC (BIMESTRE)
CREATE INDEX FK_TAB_NIVEL1_TIPO_DOC_4 ON TAB_NIVEL1_TIPO_DOC (TRIMESTRE)
CREATE INDEX FK_TAB_NIVEL1_TIPO_DOC_5 ON TAB_NIVEL1_TIPO_DOC (QUADRIMESTRE)
CREATE INDEX FK_TAB_NIVEL1_TIPO_DOC_6 ON TAB_NIVEL1_TIPO_DOC (SEMESTRE)
CREATE INDEX FK_TAB_NIVEL1_TIPO_DOC_7 ON TAB_NIVEL1_TIPO_DOC (ANO)
CREATE INDEX FK_TAB_NIVEL1_TIPO_DOC_8 ON TAB_NIVEL1_TIPO_DOC (DIAUTIL)


DROP TABLE TAB_NIVEL2_TIPO_DOC                                           --FILIAL
CREATE TABLE TAB_NIVEL2_TIPO_DOC (
	NIVEL2 CHAR (2) NOT NULL ,
	DESCRICAO VARCHAR (50) NULL,
        CONSTRAINT PK_TAB_NIVEL2_TIPO_DOC PRIMARY KEY NONCLUSTERED (NIVEL2) WITH FILLFACTOR=98)

CREATE INDEX FK_TAB_NIVEL2_TIPO_DOC_1 ON TAB_NIVEL2_TIPO_DOC (DESCRICAO)
 
DROP TABLE TAB_NIVEL3_TIPO_DOC                                           --VENDEDOR
CREATE TABLE TAB_NIVEL3_TIPO_DOC (
	NIVEL3 CHAR (5) NOT NULL ,
	DESCRICAO VARCHAR (50) NULL,
        GERENTE VARCHAR (50) NULL,
        CONSTRAINT PK_TAB_NIVEL3_TIPO_DOC PRIMARY KEY NONCLUSTERED (NIVEL3) WITH FILLFACTOR=98)

CREATE INDEX FK_TAB_NIVEL3_TIPO_DOC_1 ON TAB_NIVEL3_TIPO_DOC (DESCRICAO)
CREATE INDEX FK_TAB_NIVEL3_TIPO_DOC_2 ON TAB_NIVEL3_TIPO_DOC (GERENTE)


DROP TABLE TAB_NIVEL4_TIPO_DOC                                          --COND_PAG
CREATE TABLE TAB_NIVEL4_TIPO_DOC (
	NIVEL4 CHAR(10) NOT NULL ,
        DESCRICAO VARCHAR (100) NULL,
        CONSTRAINT PK_TAB_NIVEL4_TIPO_DOC PRIMARY KEY NONCLUSTERED (NIVEL4) WITH FILLFACTOR=98)

CREATE INDEX FK_TAB_NIVEL4_TIPO_DOC_2 ON TAB_NIVEL4_TIPO_DOC (DESCRICAO)

DROP TABLE TAB_NIVEL5_TIPO_DOC                                         --DOCUMENTO
CREATE TABLE TAB_NIVEL5_TIPO_DOC (
	NIVEL5 CHAR(10) NOT NULL ,
        DESCRICAO VARCHAR (100) NULL,
        CONSTRAINT PK_TAB_NIVEL5_TIPO_DOC PRIMARY KEY NONCLUSTERED (NIVEL5) WITH FILLFACTOR=98)

CREATE INDEX FK_TAB_NIVEL5_TIPO_DOC_2 ON TAB_NIVEL5_TIPO_DOC (DESCRICAO)

DROP TABLE TAB_NIVEL6_TIPO_DOC                                         --CIDADE
CREATE TABLE TAB_NIVEL6_TIPO_DOC (
	NIVEL6 CHAR(50) NOT NULL ,
        DESCRICAO VARCHAR (100) NULL,
        CONSTRAINT PK_TAB_NIVEL6_TIPO_DOC PRIMARY KEY NONCLUSTERED (NIVEL6) WITH FILLFACTOR=98)

CREATE INDEX FK_TAB_NIVEL6_TIPO_DOC_2 ON TAB_NIVEL6_TIPO_DOC (DESCRICAO)

DROP TABLE TAB_NIVEL7_TIPO_DOC                                         --CLIENTE
CREATE TABLE TAB_NIVEL7_TIPO_DOC (
	    NIVEL7 CHAR(10) NOT NULL ,
        DESCRICAO VARCHAR (100) NULL,
        CONSTRAINT PK_TAB_NIVEL7_TIPO_DOC PRIMARY KEY NONCLUSTERED (NIVEL7) WITH FILLFACTOR=98)

CREATE INDEX FK_TAB_NIVEL7_TIPO_DOC_2 ON TAB_NIVEL7_TIPO_DOC (DESCRICAO)
 
DROP TABLE TAB_NIVEL8_TIPO_DOC                                         --PEDIDO
CREATE TABLE TAB_NIVEL8_TIPO_DOC (
	NIVEL8 CHAR(10) NOT NULL ,
        DESCRICAO VARCHAR (100) NULL,
        CONSTRAINT PK_TAB_NIVEL8_TIPO_DOC PRIMARY KEY NONCLUSTERED (NIVEL8) WITH FILLFACTOR=98)

CREATE INDEX FK_TAB_NIVEL8_TIPO_DOC_2 ON TAB_NIVEL8_TIPO_DOC (DESCRICAO)


DROP TABLE NIVEL1_TIPO_DOC
CREATE TABLE NIVEL1_TIPO_DOC (
	NIVEL1 CHAR (8) NOT NULL ,
	DATA DATETIME NOT NULL ,
	ATR1 FLOAT NULL ,
	ATR2 FLOAT NULL ,
	ATR3 FLOAT NULL ,
	ATR4 FLOAT NULL ,
	ATR5 FLOAT NULL ,
	ATR6 FLOAT NULL ,
        CONSTRAINT PK_NIVEL1_TIPO_DOC PRIMARY KEY NONCLUSTERED (NIVEL1,DATA) WITH FILLFACTOR=98)

DROP TABLE NIVEL2_TIPO_DOC
CREATE TABLE NIVEL2_TIPO_DOC (
	NIVEL2 CHAR (2) NOT NULL ,
	NIVEL1 CHAR (8) NOT NULL ,
	DATA DATETIME NOT NULL ,
	ATR1 FLOAT NULL ,
	ATR2 FLOAT NULL ,
	ATR3 FLOAT NULL ,
	ATR4 FLOAT NULL ,
	ATR5 FLOAT NULL ,
	ATR6 FLOAT NULL ,
        CONSTRAINT PK_NIVEL2_TIPO_DOC PRIMARY KEY NONCLUSTERED (NIVEL1,NIVEL2,DATA) WITH FILLFACTOR=98)
 
CREATE INDEX FK_NIVEL2_TIPO_DOC_1 ON NIVEL2_TIPO_DOC (NIVEL2,DATA)

DROP TABLE NIVEL3_TIPO_DOC
CREATE TABLE NIVEL3_TIPO_DOC (
	NIVEL3 CHAR (5) NOT NULL ,
	NIVEL1 CHAR (8) NOT NULL ,
	NIVEL2 CHAR (2) NOT NULL ,
	DATA DATETIME NOT NULL ,
	ATR1 FLOAT NULL ,
	ATR2 FLOAT NULL ,
	ATR3 FLOAT NULL ,
	ATR4 FLOAT NULL ,
	ATR5 FLOAT NULL ,
	ATR6 FLOAT NULL ,
        CONSTRAINT PK_NIVEL3_TIPO_DOC PRIMARY KEY NONCLUSTERED (NIVEL1,NIVEL2,NIVEL3,DATA) WITH FILLFACTOR=98)

CREATE INDEX FK_NIVEL3_TIPO_DOC_1 ON NIVEL3_TIPO_DOC (NIVEL3,DATA)
CREATE INDEX FK_NIVEL3_TIPO_DOC_2 ON NIVEL3_TIPO_DOC (NIVEL2,NIVEL3,DATA)

DROP TABLE NIVEL4_TIPO_DOC
CREATE TABLE NIVEL4_TIPO_DOC (
	NIVEL4 CHAR (10) NOT NULL ,
	NIVEL1 CHAR (8) NOT NULL ,
	NIVEL2 CHAR (2) NOT NULL ,
	NIVEL3 CHAR (5) NOT NULL ,
	DATA DATETIME NOT NULL,
	ATR1 FLOAT NULL ,
	ATR2 FLOAT NULL ,
	ATR3 FLOAT NULL ,
	ATR4 FLOAT NULL ,
	ATR5 FLOAT NULL ,
	ATR6 FLOAT NULL ,
        CONSTRAINT PK_NIVEL4_TIPO_DOC PRIMARY KEY NONCLUSTERED (NIVEL1,NIVEL2,NIVEL3,NIVEL4,DATA) WITH FILLFACTOR=98)

CREATE INDEX FK_NIVEL4_TIPO_DOC_1 ON NIVEL4_TIPO_DOC (NIVEL4,DATA)
CREATE INDEX FK_NIVEL4_TIPO_DOC_2 ON NIVEL4_TIPO_DOC (NIVEL2,NIVEL3,NIVEL4,DATA)

DROP TABLE NIVEL5_TIPO_DOC
CREATE TABLE NIVEL5_TIPO_DOC (
	NIVEL5 CHAR (10) NOT NULL ,
	NIVEL1 CHAR (8) NOT NULL ,
	NIVEL2 CHAR (2) NOT NULL ,
	NIVEL3 CHAR (5) NOT NULL ,
	NIVEL4 CHAR (10) NOT NULL ,
	DATA DATETIME NOT NULL,
	ATR1 FLOAT NULL ,
	ATR2 FLOAT NULL ,
	ATR3 FLOAT NULL ,
	ATR4 FLOAT NULL ,
	ATR5 FLOAT NULL ,
	ATR6 FLOAT NULL ,
        CONSTRAINT PK_NIVEL5_TIPO_DOC PRIMARY KEY NONCLUSTERED (NIVEL1,NIVEL2,NIVEL3,NIVEL4,NIVEL5,DATA) WITH FILLFACTOR=98)

CREATE INDEX FK_NIVEL5_TIPO_DOC_1 ON NIVEL5_TIPO_DOC (NIVEL5,DATA)
CREATE INDEX FK_NIVEL5_TIPO_DOC_2 ON NIVEL5_TIPO_DOC (NIVEL2,NIVEL3,NIVEL4,NIVEL5,DATA)

DROP TABLE NIVEL6_TIPO_DOC
CREATE TABLE NIVEL6_TIPO_DOC (
	NIVEL6 CHAR (50) NOT NULL ,
	NIVEL1 CHAR (8) NOT NULL ,
	NIVEL2 CHAR (2) NOT NULL ,
	NIVEL3 CHAR (5) NOT NULL ,
	NIVEL4 CHAR (10) NOT NULL ,
	NIVEL5 CHAR (10) NOT NULL ,
	DATA DATETIME NOT NULL ,
	ATR1 FLOAT NULL ,
	ATR2 FLOAT NULL ,
	ATR3 FLOAT NULL ,
	ATR4 FLOAT NULL ,
	ATR5 FLOAT NULL ,
	ATR6 FLOAT NULL ,
        CONSTRAINT PK_NIVEL6_TIPO_DOC PRIMARY KEY NONCLUSTERED (NIVEL1,NIVEL2,NIVEL3,NIVEL4,NIVEL5,NIVEL6,DATA) WITH FILLFACTOR=98)

CREATE INDEX FK_NIVEL6_TIPO_DOC_1 ON NIVEL6_TIPO_DOC (NIVEL6,DATA)
CREATE INDEX FK_NIVEL6_TIPO_DOC_2 ON NIVEL6_TIPO_DOC (NIVEL2,NIVEL3,NIVEL4,NIVEL5,NIVEL6,DATA)



DROP TABLE NIVEL7_TIPO_DOC
CREATE TABLE NIVEL7_TIPO_DOC (
	NIVEL7 CHAR (10) NOT NULL ,
	NIVEL1 CHAR (8) NOT NULL ,
	NIVEL2 CHAR (2) NOT NULL ,
	NIVEL3 CHAR (5) NOT NULL ,
	NIVEL4 CHAR (10) NOT NULL ,
	NIVEL5 CHAR (10) NOT NULL ,
	NIVEL6 CHAR (50) NOT NULL ,
	DATA DATETIME NOT NULL ,
	ATR1 FLOAT NULL ,
	ATR2 FLOAT NULL ,
	ATR3 FLOAT NULL ,
	ATR4 FLOAT NULL ,
	ATR5 FLOAT NULL ,
	ATR6 FLOAT NULL ,
        CONSTRAINT PK_NIVEL7_TIPO_DOC PRIMARY KEY NONCLUSTERED (NIVEL1,NIVEL2,NIVEL3,NIVEL4,NIVEL5,NIVEL6,NIVEL7,DATA) WITH FILLFACTOR=98)

CREATE INDEX FK_NIVEL7_TIPO_DOC_1 ON NIVEL7_TIPO_DOC (NIVEL7,DATA)
CREATE INDEX FK_NIVEL7_TIPO_DOC_2 ON NIVEL7_TIPO_DOC (NIVEL2,NIVEL3,NIVEL4,NIVEL5,NIVEL6,NIVEL7,DATA)


DROP TABLE NIVEL8_TIPO_DOC
CREATE TABLE NIVEL8_TIPO_DOC (
	NIVEL8 CHAR (10) NOT NULL ,
	NIVEL1 CHAR (8) NOT NULL ,
	NIVEL2 CHAR (2) NOT NULL ,
	NIVEL3 CHAR (5) NOT NULL ,
	NIVEL4 CHAR (10) NOT NULL ,
	NIVEL5 CHAR (10) NOT NULL ,
	NIVEL6 CHAR (50) NOT NULL ,
	NIVEL7 CHAR (10) NOT NULL ,
	DATA DATETIME NOT NULL ,
    TIPO CHAR(1),
	ATR1 FLOAT NULL ,
	ATR2 FLOAT NULL ,
	ATR3 FLOAT NULL ,
	ATR4 FLOAT NULL ,
	ATR5 FLOAT NULL ,
	ATR6 FLOAT NULL ,
        CONSTRAINT PK_NIVEL8_TIPO_DOC PRIMARY KEY NONCLUSTERED (NIVEL1,NIVEL2,NIVEL3,NIVEL4,NIVEL5,NIVEL6,NIVEL7,NIVEL8,DATA,TIPO) WITH FILLFACTOR=98)

CREATE INDEX FK_NIVEL8_TIPO_DOC_1 ON NIVEL8_TIPO_DOC (NIVEL8,DATA)
CREATE INDEX FK_NIVEL8_TIPO_DOC_2 ON NIVEL8_TIPO_DOC (NIVEL2,NIVEL3,NIVEL4,NIVEL5,NIVEL6,NIVEL7,NIVEL8,DATA)
GO
